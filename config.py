# Физические параметры идеального газа (азот)
R = 296.8          # Дж/(кг·К), газовая постоянная для N2
n = 1.4          # показатель адиабаты

# Выбор модели газа: 'ideal' или 'vdw' (Van-der-Waals)
gas_model = 'ideal'

# Параметры для модели Ван-дер-Ваальса (молярные константы)
# a: [Pa·m^6 / mol^2], b: [m^3 / mol]
# Значения приведены для N2 (приближённо): a ≈ 1.370 L^2·bar/mol^2 -> 0.137 Pa·m^6/mol^2
# b ≈ 0.0387 L/mol -> 3.87e-5 m^3/mol
a_vdw = 0.137    # Pa·m^6 / mol^2 (примерное значение для N2)
b_vdw = 3.87e-05 # m^3 / mol (примерное значение для N2)

# Молярная масса N2 (для перевода между молярной и массовой формой)
M_molar = 0.0280134  # kg / mol

# Геометрия
# Увеличен объём баллона, чтобы замедлить падение давления
V_b = 0.2         # м^3 — объём баллона
V_emk = 0.2        # м^3 — объём ёмкости

# Параметры дроссельной шайбы
# Уменьшены параметры шайбы для более плавного расхода
mu_f = 0.0005       # произведение μ * f
m = 0.1    # коэффициент для критического расхода

# Начальные условия
# ρ_b(0) = 250 кг/м³ (плотность азота в баллоне при начальных условиях)
rho_b_0 = 250      # кг/м3
theta_b_0 = 293    # K (20°C)
# p_emk(0) = 1 кгс/см² = 98066.5 Па (атмосферное давление в ёмкости)
p_emk_0 = 98066.5  # Па (1 kgf/cm^2 = 98066.5 Pa)
theta_emk_0 = 293  # K (20°C)

# Время моделирования
t_max = 2.0        # секунд (сокращено чтобы фокусироваться на переходной части)
dt = 0.0005        # шаг интегрирования

# Интервал печати промежуточных результатов (в секундах)
print_interval = 1.0
# Valve time constant (first-order smoothing of commanded mass flow)
# Lower values -> valve follows commanded flow faster. Increase to smooth spikes.
valve_tau = 0.01  # seconds
